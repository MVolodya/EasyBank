@model EasyBank.Models.Client

<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

@using (Html.BeginForm("AddPhoto", "Protected", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Client</legend>

        <div class="editor-label">
            @Html.LabelFor(model => model.Name)
        </div>
        <div class="editor-field">
            @Html.DisplayFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Surname)
        </div>
        <div class="editor-field">
            @Html.DisplayFor(model => model.Surname)
            @Html.ValidationMessageFor(model => model.Surname)
        </div>
    </fieldset>

    @section scripts
{
        <script src="@Url.Content("~/Scripts/jquery.webcam.js")">
        </script>
        <script>
            $("#Camera").webcam({
                width: 420,
                height: 340,
                mode: "save",
                swffile: "@Url.Content("~/Scripts/jscam.swf")",
                onTick: function () { },
                onSave: function () { window.location.href = "/Protected/ClientsProfile?clientId=@Model.ClientId"; },
                onCapture: function () {
                    webcam.save("@Url.Content("~/Protected/Capture")/@Model.ClientId");
                },
                debug: function () { },
                onLoad: function () { }
            });
        </script>
    }
    <input type="button" value=@Resources.Resource.TakeAPicture onclick="webcam.capture();" />
    <div id="Camera"></div>
    @*<div> @Html.ActionLink("Clients profile", "ClientsProfile", new { clientId = Model.ClientId })</div>*@
}

<div>
    @Html.ActionLink(@Resources.Resource.BackToProfile, "ClientsProfile", Model)
</div>
